A Browser-side View of Starlink Connectivity Mohamed M. Kassem University of Surrey UK m.kassem@surrey.ac.uk Aravindh Raman Telefonica Research Spain aravindh.raman@telefonica.com Diego Perino Telefonica Research Spain diego.perino@telefonica.com Nishanth Sastry University of Surrey UK n.sastry@surrey.ac.uk

LEO satellite “mega-constellations” such as SpaceX’s Starlink, Amazon’s Kuiper, OneWeb are launching thousands of satellites annually, promising high-bandwidth low-latency connectivity. To quantify the achievable performance of such providers, we carry out a measurement study of the spatial and temporal characteristics as well as the geographic variability of the connectivity provided by Starlink, the current leader in this space. We do this by building and deploying a browser extension that provides data about web performance seen by 28 users from 10 cities across the world. We complement this with performance tests run from three measurement nodes hosted by volunteer enthusiasts in the UK, EU and USA. Our ￿ndings suggest that although Starlink o￿ers some of the best web performance ￿gures among the ISPs observed, there are important sources of variability in performance such as weather conditions. The bent-pipe connection to a satellite and back to earth also forms a signi￿cant component of the observed latency. We also observe frequent and signi￿cant packet losses of up to 50% of packets, which appear to be correlated with handovers between satellites. This has an e￿ect on achievable throughput even when using modern congestion control protocols such as BBR or CUBIC. CCS CONCEPTS • Networks ! Network measurement. ACM Reference Format: Mohamed M. Kassem, Aravindh Raman, Diego Perino, and Nishanth Sastry. 2022. A Browser-side View of Starlink Connectivity. In ACM Internet Measurement Conference (IMC ’22), October 25–27, 2022, Nice, France. ACM, New York, NY, USA, 8 pages. https://doi.org/10.1145/3517745.3561457 1

We are witnessing the emergence of a new kind of Internet Service Provision that aims to provide connectivity to consumers directly from space, via Low Earth Orbit (LEO) satellites. Although satellite Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro￿t or commercial advantage and that copies bear this notice and the full citation on the ￿rst page. Copyrights for components of this work owned by others than the author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci￿c permission and/or a fee. Request permissions from permissions@acm.org. IMC ’22, October 25–27, 2022, Nice, France © 2022 Copyright held by the owner/author(s). Publication rights licensed to ACM. ACM ISBN 978-1-4503-9259-4/22/10...$15.00 https://doi.org/10.1145/3517745.3561457 connectivity has been around for several decades with providers such as HughesNet or ViaSat sometimes being the only provider in

city. Interestingly, the Starlink users in London and Sydney are initially presented as coming from Autonomous System AS36492 (Google) and then changed over to AS14593 (SpaceX). In Sydney, we are able to observe this change happening between April 1, 2022 Figure 2: Setup of a volunteer measurement node. (Google’s AS) and April 2, 2022 (SpaceX). In London, we see this change occurring between 16 Feb and 24 Feb. However, in Seattle, the AS remained AS14593 throughout our study. This presents us with an opportunity to study what appears to be a fundamental change in the way Starlink is con￿gured and run. 3.2 Volunteer measurement nodes Whereas the browser extension data provides us with a broad coverage, we cannot control the time of measurements. In particular, this means that the PTT or PLT data is only gathered when the user is online (leading to a sparsity of data during night time, for example), and Speedtest data is even more irregular, as it depends on the user to run a Speedtest. Therefore, we complement the above data with regular measurements we can make directly. To this end, we recruited enthusiast volunteers via word-of-mouth, who agreed to host a Raspberry Pi (RPi) that we shipped to them. The RPi is connected directly to the Starlink receiver, as shown in Figure 2. Figure 2 also shows the general setup of any residential Starlink connection, which has its own Starlink dish (commonly known as “dishy”) which changes its angle to orient itself towards overhead satellites. Data goes from the home router to the dish to an overhead Starlink satellite and then down to a data centre location nearby, which tends to be a Google Cloud location . Each hosted RPi is ￿ashed with an image equipped with tools to run basic network performance tests. This includes our version of a Speedtest, closely based on Libretest, as well as traditional tools such such as iperf3, mtr etc.. The RPi has a cron job that executes every 5 minutes, running the speedtest utility. The server contacted for the Speedtest is handcoded to be the closest available Google Data Centre (to that RPi’s location), where we host a Virtual Machine (VM). Additionally, the Raspberry Pi has remote access enabled through reverse ssh tunneling for deploying further scripts as needed. This has been used to run traditional network performance tools such as

previous approaches that relied on geosynchronous orbits. The main di￿erence between the two approaches is the distance of the satellites: whereas the Geosynchronous satellites are 35,000 kilometres away , LEO satellites are much closer. For example, Starlink has ￿ve orbital shells, the closest of which is only 550 km away . This dramatically shorter distance allows much lower latencies, comparable to traditional broadband providers.

satellite is only within sight of a ground station for a short period of time. This has led to the development of so-called “mega constellations” of satellites (e.g. Starlink has more than 2500 satellites in orbit, with a stated aim of getting to nearly 40,000 satellites in the next few years ). Because there are many more satellites, the overall capacity of the network is also higher, and Starlink promises dramatically higher bandwidths than traditional satellite internet providers. Attracted by these possibilities of low latency and high bandwidth, several users have signed up to obtain Starlink connections, often months in advance of when Starlink is able to provide them with a receiver . The market potential is con￿rmed by additional players such as Amazon who are joining the fray . This paper aims to take a ￿rst look at the claims of network connectivity achievable by LEO satellite megaconstellations, by studying the performance experienced by Starlink users. We wish to answer questions such as: How does Starlink connectivity compare to other Internet Service Providers (ISPs) in the same geographic region? Does connection quality change over time? Does the weather a￿ect performance? Our modus operandi is simple: we developed a Web Browser extension that can do speedtests within the browser (based on ), and also computes various components of the time it takes for pages to load as the users visit di￿erent websites in the course of their daily web browsing activities. Importantly, since we are interested in how the users’ network connection a￿ects their browser performance, we minimise confounding factors which may a￿ect users’ Page Load Time (PLT) (e.g. variability in compute power on di￿erent users’ devices, or extensions such as ad blockers) by developing the notion of Page Transit Time (§3.1), which isolates the network-related aspects of the widely PLT metric. Our extension users may optionally share their data with us (anonymously), which allows us to provide them a comparison of 151 IMC ’22, October 25–27, 2022, Nice, France Mohamed M. Kassem, Aravindh Raman, Diego Perino, and Nishanth Sastry Figure 1: Locations of Starlink and Non-starlink users who installed our browser extensions. how their Starlink connection performs in comparison with other users from their city/geographic region (both customers of Starlink and of other Internet Service Providers). In all, 28 users installed our extension, of which 18 Starlink users from 10 cities in the UK, USA, EU and Australia shared data with us, providing us a wide coverage of Starlink web performance across the world. We complement these measurements with data from three Starlink users who agreed to host a Raspberry Pi shipped to them, allowing us to run traditional performance tests such as iperf and traceroute, as well as deeper analysis such as comparing the performance of di￿erent congestion control algorithms. Importantly,

ing well beyond what can be measured from page loads within a browser extension. We also run the stress tests regularly, as cron jobs, providing a view of network performance over time. These measurements shed light on basic measures such as network latency, throughput and packet loss rates experienced by Starlink (and non-Starlink) users. We ￿nd that Starlink does in fact provide among the best connectivity observable by our user base. However, there are also signi￿cant sources of variability in the latencies observed, such as a 2x increase in median Page Transit Time for the same web services when accessed on a day with moderate rain, as compared to a clear sky day. The latency achievable is dominated by the ‘bent pipe’ connection from the Starlink receiver to the satellite and back. Performance also varies by geography: e.g. we observe 2.3x higher delay in the USA, compared to the UK, as well as 2.6 times lower throughput (on average). We also ￿nd instances of unusually high packet loss of up to 50%, with over 12% of samples obtaining more than 5% packet loss. This a￿ects throughput achievable, even with modern congestion control algorithms. 2

Our measurement relies on two complementary datasets we collected. The ￿rst is data obtained from a browser extension that we built to provide us data about web performance indicators. The second is network performance test data run from Raspberry Pis provided to volunteers with access to Starlink receivers. 3.1 Browser extension data We built extensions for Google Chrome and Mozilla Firefox, available for the users to download from the corresponding stores . Both extensions contain identical functionality. The extension collects various components of page load time for each page visited. Speci￿cally, we measure any time spent in the network in loading a page, such as HTTP redirection, resolving the domain name, the HTTP request and response times. We call the total network-related wait time for a page as its Page Transit Time (PTT). In addition, we also measure the time needed for loading the Document Object Model or DOM or the page being visited, executing scripts, loading content and other sub-resources. Further, when the extension’s tab is opened for details, the extension visits ￿ve random websites from the top 500 websites according to the Tranco list, three websites from the top 10K and two from the remaining ranks in the top 1 Million. This allows us to provide the user with a comparison of the page load performance on the website they are visiting, relative to the load times they might experience on di￿erent websites across the popularity spectrum. This random selection of websites from the Tranco list allows us to ensure diversity in terms of web hosting (e.g. CDN provider). The PTT together with the time for actually parsing and rendering the page represents the Page Load Time (PLT), which is a more conventional and well understood measure of web performance. Our extension’s icon in the browser always displays the PLT of the page just loaded and the details tab displays the components of PLT for the ten randomly chosen pages. However, in our analysis below, we need to combine the times across multiple users, each of whom may have machines with very di￿erent hardware capabilities, or browsers con￿gured di￿erently in ways that may a￿ect PLT (e.g. 152 A Browser-side View of Starlink Connectivity IMC ’22, October 25–27, 2022, Nice, France City Starlink Non-starlink #req #domain Median PTT #req #domain Median PTT London 12933 1302 327 ms 4006 730 443 ms Seattle 3597 579 395 ms 765 222 566 ms Sydney 3482 390 622 ms 843 260 675 ms Table 1: Citywise breakdown of data points collected from our extension. some extensions such as ad blockers may prevent certain scripts from executing or block rendering of parts of the DOM, such as the ads). Therefore, our analysis focuses mostly on the PTT. Further, to protect the privacy of users, the extension does not control or capture any other information apart from the PLT and PTT. One possible limitation of our study is that there may be uncaptured factors which could partially explain the variability in performance seen and we are not able to explore whether that is because of Starlink connectivity or other factors which may introduce biases between the Starlink and non-Starlink subsets of users. Finally, whenever the users want, they can stress-test their network connectivity beyond measuring page load times, by running a Speedtest and measuring downlink/uplink bandwidth performance to a server we host in the Google cloud platform from a data centre in Iowa. This is achieved by embedding a version of Libretest into the browser extension. We collected data for 6 months, starting from Dec 2021. We also actively recruited users to install this extension by running Facebook ads from Jan to Feb 2022. The ads were restricted to the USA, EU and Australia, geographies where there were known Starlink

repeated traceroutes, measuring the maximum and minimum latency seen on each hop. We do traceroutes (30 samples using 60 Bytes UDP packets) from each of our three volunteer measurement nodes in the UK, EU and USA. Taking the di￿erence between the maximum and minimum observed latencies across any part of the path eliminates the propagation delay and is therefore indicative (as a lower bound) of the size of the maximum queueing delay on that part of the path. Similarly, taking the di￿erence between the average (or median) and the minimum delay can give an estimate of the average (median) queueing delay. Table 2 shows that the queueing delay on the ‘bent pipe’ link in all three locations is a large component of the overall queueing delay for the whole path. To check whether this is a stable result,

Users should take these factors into account when deciding whether Starlink is a suitable option for them. For example, if low latency is an important consideration for an application, special support (e.g. local caches  or sharing ) may be needed during rainy conditions. Similarly, connections between geographically distant end points may not see the full bene￿ts of Starlink until Inter-satellite Links (ISLs) become the norm, o￿setting the additional latency of the satellite link with lower delays in crossing the Atlantic via ISLs . 5 THROUGHPUT AND PACKET LOSS

means that we are not able to control the location or number of users. However, through our ad campaign, we managed to ￿nd 28 users in 10 cities covering all regions of interest. Although, this sample is small, we have 6 months of activity from these users with more than 50,000 readings. Therefore, we believe that the insights we obtain are valuable as a ￿rst measurement study. 156 A Browser-side View of Starlink Connectivity IMC ’22, October 25–27, 2022, Nice, France ACKNOWLEDGMENTS The authors would like to thank the shepherd Vaibhav Bajpai and the anonymous reviewers for their constructive comments. This work was supported by NGIAtlantic.eu project within the EU Horizon 2020 programme under Grant No. 871582, the Higher Education Infrastructure Fund, UK, and EU H2020 Grant Agreements 871793 (ACCORDION) and 101016509 (CHARITY).

as-a-service in cloud-based 5G mobile networks. IEEE Transactions on Mobile Computing 19, 5 (2019), 997–1009. Mark Handley. 2018. Delay is not an option: Low latency routing in space. In Proceedings of the 17th ACM Workshop on Hot Topics in Networks. 85–91. Yannick Hauri, Debopam Bhattacherjee, Manuel Grossmann, and Ankit Singla. 2020. "Internet from Space" without Inter-Satellite Links. In Proceedings of the 19th ACM Workshop on Hot Topics in Networks (Virtual Event, USA) (HotNets ’20). Association for Computing Machinery, New York, NY, USA, 205–211. https: //doi.org/10.1145/3422604.3425938 Space Exploration Holdings. 2020. Application for modi￿cation of authorization for the SpaceX NGSO satellite system. https://fcc.report/IBFS/SAT-LOA20200526-00055/2378669 IPinfo. 2022. IPinfo API. https://ipinfo.io/developers/. Ahan Kak and Ian F. Akyildiz. 2019. Large-Scale Constellation Design for the Internet of Space Things/CubeSats. In 2019 IEEE Globecom Workshops (GC Wkshps). 1–6. https://doi.org/10.1109/GCWkshps45667.2019.9024594 Dmytro Karamshuk, Nishanth Sastry, Mustafa Al-Bassam, Andrew Secker, and Jigna Chandaria. 2016. Take-away TV: Recharging work commutes with predictive preloading of catch-up TV content. IEEE Journal on Selected Areas in Communications 34, 8 (2016), 2091–2101. Dmytro Karamshuk, Nishanth Sastry, Andrew Secker, and Jigna Chandaria. 2015. ISP-friendly peer-assisted on-demand streaming of long duration content in BBC iPlayer. In 2015 IEEE Conference on Computer Communications (INFOCOM). IEEE, 289–297. Simon Kassing, Debopam Bhattacherjee, André Baptista Águas, Jens Eirik Saethre, and Ankit Singla. 2020. Exploring the "Internet from Space" with Hypatia. In Proceedings of the ACM Internet Measurement Conference (Virtual Event, USA) (IMC ’20). Association for Computing Machinery, New York, NY, USA, 214–229. https://doi.org/10.1145/3419394.3423635 Victor Le Pochat, Tom Van Goethem, Samaneh Tajalizadehkhoob, Maciej Korczyński, and Wouter Joosen. 2019. Tranco: A Research-Oriented Top Sites Ranking Hardened Against Manipulation. In Proceedings of the 26th Annual Network and Distributed System Security Symposium (NDSS 2019). https: //doi.org/10.14722/ndss.2019.23386 Librespeed. 2021. Speedtest. https://github.com/librespeed/speedtest. Kuiper Systems LLC. 2021. Application for authority to launch and operate a non-geostationary satellite orbit system in v-band and ku-band frequencies. https://fcc.report/IBFS/SAT-LOA-20211104-00145/13337525 François Michel, Martino Trevisan, Danilo Giordano, and Olivier Bonaventure. 2022. A First Look at Starlink Performance. In Proceedings of the 2022 Internet Measurement Conference. https://doi.org/10.1145/3517745.3561416 Remmy Musumpuka, Tom M. Walingo, and J. Macgregor Smith. 2016. Performance Analysis of Correlated Handover Service in LEO Mobile Satellite Systems. IEEE Communications Letters 20, 11 (2016), 2213–2216. https://doi.org/10.1109/ LCOMM.2016.2604311 Thang K Nguyen, Chuyen T Nguyen, Hoang D Le, and Anh T Pham. 2021. TCP performance over satellite-based hybrid FSO/RF vehicular networks: Modeling and analysis. IEEE Access 9 (2021), 108426–108440. Jordan Novet. 2021. Google wins cloud deal from Elon Musk’s SpaceX for Starlink internet connectivity. https://www.cnbc.com/2021/05/13/google-cloud-winsspacex-deal-for-starlink-internet-connectivity.html OpenWeather. 2022. Weather icons. https://openweathermap.org/weatherconditions. Chol Hyun Park, Phillipe Austria, Yoohwan Kim, and Ju-Yeon Jo. 2022. MPTCP Performance Simulation in Multiple LEO Satellite Environment. In 2022 IEEE 12th Annual Computing and Communication Workshop and Conference (CCWC). IEEE, 0895–0899. Daniel Perdices, Martino Perna, Gianluca and Trevisan, Danilo Giordano, and Marco Mellia. 2022. When Satellite is All You Have When Satellite is All You Have: Watching the Internet from 550 ms. In Proceedings of the 2022 Internet Measurement Conference. https://doi.org/10.1145/3517745.3561432 Yubi Qian, Lu Ma, and Xuwen Liang. 2019. The performance of chirp signal used in LEO satellite Internet of Things. IEEE Communications letters 23, 8 (2019), 1319–1322. Aravindh Raman, Dmytro Karamshuk, Nishanth Sastry, Andrew Secker, and Jigna Chandaria. 2018. Consume local: Towards carbon free content delivery. In 2018 IEEE 38th International Conference on Distributed Computing Systems (ICDCS). IEEE, 994–1003. Aravindh Raman, Nishanth Sastry, Nader Mokari, Mostafa Salehi, Tooba Faisal, Andrew Secker, and Jigna Chandaria. 2018. Care to share? an empirical analysis of capacity enhancement by sharing at the edge. In Proceedings of the 2018 on Technologies for the Wireless Edge Workshop. 27–31. Aravindh Raman, Nishanth Sastry, Arjuna Sathiaseelan, Jigna Chandaria, and Andrew Secker. 2017. Wi-stitch: Content delivery in converged edge networks. In Proceedings of the Workshop on Mobile Edge Communications. 13–18. 157 IMC ’22, October 25–27, 2022, Nice, France Mohamed M. Kassem, Aravindh Raman, Diego Perino, and Nishanth Sastry r/Starlink Subreddit. 2021. Neighbor has Starlink - but website says not available. Is this possible? https://www.reddit.com/r/Starlink/comments/m8wof7/ neighbor_has_starlink_but_website_says_not/. Ra￿aello Secchi, AC Mohideen, and Gorry Fairhurst. 2018. Performance analysis of next generation web access via satellite. International Journal of Satellite Communications and Networking 36, 1 (2018), 29–43. CAKAJ Shkelzen. 2009. Rain attenuation impact on performance of satellite ground stations for low earth orbiting (LEO) satellites in Europe. International Journal of Communications, Network and System Sciences 2009 (2009). SpaceX. 2016. SPACEX NON-GEOSTATIONARY SATELLITE SYSTEM. https: //fcc.report/IBFS/SAT-LOA-20161115-00118/1158350.pdf. SpaceX. 2019. SPACEX NON-GEOSTATIONARY SATELLITE SYSTEM. https: //fcc.report/IBFS/SAT-MOD-20190830-00087/1877671. Milda Tamošiunaite, Stasys Tamošiunas, Mindaugas Žilinskas, and Milda Tamošiuniene. 2011. Atmospheric Attenuation due to Humidity. In Electromagnetic Waves, Vitaliy Zhurbenko (Ed.). IntechOpen, Rijeka, Chapter 8. https: //doi.org/10.5772/21430 Meaghan Tobin. 2022. Just 2% of Starlink users live outside of the West, data suggests. https://restofworld.org/2022/starlink-elon-musk-global-access/.

Performance measurements. Satellite-based connectivity has been in operation at least for couple of decades . However, as compared to satellites on geosynchronous earth orbit (GSO), LEO satellite systems struggled to commercially take o￿in the past . Thus, a signi￿cant proportion of works focus on GSO, more speci￿cally on satellites on the circular geosynchronous orbit called Geostationary equatorial orbit (GEO), to optimise the link latencies and achieve protocol enhancements. Bene￿ts of protocol improvements at application level like HTTP/1.1 to HTTP/2 , QUIC  were also investigated. The works in the past are therefore limited to performance measurements with GEO satellites. Modelling and simulation. LEO satellite studies have focussed mostly on theoretical models exploring opportunities to improve the 5G connectivity , handover performance , optimal channel reservations , e￿cient beamforming , performance of navigation systems , IoT devices  etc.. Performance of protocols in the simulated LEO environments are also studied . More recently, Kassing et al.  developed a packet-level LEO network simulator based on ns-3. Designs of new constellations  and in-orbit computing  are also proposed to tackle the disparate requirements from a variety of applications. This work bridges the gap between these two categories of research e￿orts by conducting the ￿rst measurement study (along with ) on the commercial LEO satellite network, Starlink. Our measurement study sheds light on the unique characteristics of the new Internet from space provided by this megaconstellation of LEO satellites and provides two datasets that can be utilized to equip LEO simulations with real-world data which would enable rapid design and development of di￿erent network protocols. 3

such as the r/Starlink subreddit and various Facebook groups). Users who install the extension can optionally decide to share their data with us. If they choose to do so, then we compare their data with the web performance experienced by other Starlink and non-Starlink users in their city/geographic region and present a

on users who shared their data with us. No datapoints that can identify a user are collected. No attempt is made to link the data with other data sources that may lead to such identi￿cation. Furthermore, this study was conducted under the oversight of the University of Surrey ethics board who require us to delete the data within 6–8 months of May 2022, when the study is expected to complete. In total, 28 users installed the extension and shared their data with us, of which 18 are Starlink users and the remaining are nonStarlink users. These users cover 10 cities in the UK, the EU, USA and Australia (See Figure 1). For the sake of consistency, we mainly rely on data from three cities: London, Seattle and Sydney. These cities were chosen for geographic coverage, and also because in these cities, we have users from three di￿erent kinds of Internet Service Providers: Starlink, traditional broadband (e.g. Cable) and Cellular Internet Providers. We used the IPinfo API  for each web request to identify the Starlink and non-Starlink users from the ISP information retrieved by the API. We then discarded the IP address and store only the ISP and the geographical information.

This work is the ￿rst study, to the best of our knowledge, showing the initial outcomes of studying the new kind of Internet connectivity provided by Starlink, a LEO satellite internet constellation. Through data collected from a browser extension we developed, and by recruiting measurement nodes hosted by volunteer enthusiasts, we show that Starlink indeed is a viable option comparable with traditional ISPs. However, we also notice that there is a signi￿cant variability in throughput across di￿erent cities and performance can be a￿ected by factors such as cloud cover. We also observe unusually high packet loss rates, su￿cient to pose signi￿cant problems even for modern congestion control protocols. This suggests areas for improvement, including better handover between satellites.

with di￿erent congestion control protocols and for debugging, e.g. by checking parameters of the Starlink receiver (accessible from the local network) via the so-called Starlink Status (or Dishy) API . During the course of our work, we managed to ￿nd 3 volunteers through word-of-mouth contacts, and by messaging people with an online presence. Our volunteers are in North Carolina, USA, Barcelona, Spain, and Wiltshire, UK, thus providing us a window into Starlink performance in three of the regions with the most numbers of Starlink users . 4 LATENCIES AND DELAYS ON STARLINK Table 1 shows that in our extension’s userbase, for each of the three cities with both Starlink and non-Starlink users, Starlink o￿ers 153 IMC ’22, October 25–27, 2022, Nice, France Mohamed M. Kassem, Aravindh Raman, Diego Perino, and Nishanth Sastry Figure 3: Comparison of Page Transit Times of popular (TRANCO top 200) and unpopular (TRANCO all other ranks) websites visited by users before and after Starlink’s change of exit points from google AS to SpaceX AS (between 01/04 and 02/04 for Sydney, 16/02 and 24/02 for London; Seattle is not shown as no AS change was observed there.). among the lowest Page Transit Times as compared with observed non-Starlink connections. We examine this more deeply, asking if there are any sources of variability, either due to endogenous network-related factors, or exogenous factors such as weather. We also go beyond PTT, using traceroute to compute a more thorough comparison of hop-by-hop latencies experienced with Starlink and other kinds of providers, namely cellular and broadband from one vantage point (UK). Network-related factors a￿ecting PTT. First, we ask if there are known network-related variables that a￿ect the latency. We take advantage of the change in AS numbers (from Google’s AS to Starlink’s own AS) for Starlink users in London and Sydney, asking if this change impacts users. We also di￿erentiate between popular websites (Tranco top 200) and other websites. Although the cuto￿of Rank 200 is chosen arbitrarily, we wish to examine whether more popular websites are more likely to have a more geographically distributed presence closer to users and therefore able to sustain lower PTTs. We examine these two variables more clearly in Figure 3, which shows the Cumulative Distribution Function (CDF) of the Page Transit Time for popular and unpopular sites before and after the switchover from Google to Starlink’s own AS. Firstly, there is a small di￿erence in the PTTs of popular and unpopular websites both before and after the AS number change. Secondly, we notice that PTT increases slightly both for popular as well as unpopular websites in both London and Sydney, suggesting that the move from using Google’s AS to SpaceX’s own AS seems to have negatively impacted the network latency of both popular and unpopular websites. We conjecture that the Google AS might have had slightly better peering arrangements, which may result in additional AS hops in some cases. Weather-related factors a￿ecting PTT. Next, we examine whether the weather, and more speci￿cally cloud cover, has any e￿ect on performance given the wireless link to a satellite beyond the earth’s 0 500 1000 1500 2000 2500 Page Transit Time (ms) London Clear Sky Few Clouds Broken Clouds Light Rain Scattered Clouds Overcast clouds Moderate Rain Figure 4: The e￿ect of the weather conditions on the page transit time for google services accessed by Starlink receiver in London. 0 20 40 60 80 100 120 140 160 1 2 3 4 5 6 7 8 9 Starlink PoP LondonIEX ae29.londhx-sbr1.ja.net Cellular-UK RTT (msec) Hop Count Starlink Broadband Cellular Figure 5: Comparison of the latency (RTT) measured on each hop between di￿erent access technologies (Starlink, Wi-Fi broadband, and cellular) for a single location in London and server located in N. Virginia. atmosphere. To this end, we focus on London where we have the most extensive data as well as data covering a variety of the di￿erent weather conditions recognised with an icon by Open Weather Map . For each timestamp where we have a PTT recording from a Starlink user in London, we retrieve the recorded historical weather from the Open Weather Map API. Figure 4 shows the distribution of PTTs obtained for each weather condition, sorted in the direction of increased cloud cover. A noticeable e￿ect can be observed, with the lowest median PTT (470.5ms) achieved under clear skies and the highest (931.5ms) under moderate rain. It can also be seen that a ‘moderate rain’ weather condition has a noticeably higher latency than other overcast cloud or light rain conditions. This is consistent with studies ( , ) that ￿nd that raindrop size distribution is an important factor for the intensity of rain fade. The e￿ect of rain fade also drops exponentially with distance from the rain drops; thus thick rain drops falling directly on the dish may have a more intense e￿ect than tiny water droplets in a cloud (approximate diameter 0.1mm) Comparison with traditional ISPs. Finally, we systematically study the latencies hop-by-hop for di￿erent kinds of ISPs in a region. We focus on the UK, running traceroute 20 times from our UK volunteer measurement node, from a major cellular operator, and from a broadband connection over WiFi at a major UK university (representing a “best of class” connectivity). The location chosen was a vantage point where we had access to all three kinds of connectivity options; it remains for future studies to understand whether the behavior we observe generalizes to other geographies 154 A Browser-side View of Starlink Connectivity IMC ’22, October 25–27, 2022, Nice, France City Queuing Delay in ms (wireless link) Queuing Delay in ms (whole path) Min Median Max Min Median Max North Carolina 33.4 48.3 78.5 39.2 72.4 98.7 London 14.3 24.3 53.9 19.6 33.5 87.2 Barcelona 8.1 16.5 20 11.2 18.2 23.1 Table 2: Min|Median|Max queuing delay for the Earth-SatelliteEarth link and the end-to-end path for three Starlink receivers located at di￿erent continents. as well. Given our endpoint in the UK, we deliberately choose to traceroute to our VM across the Atlantic to study how transatlantic latency compares with that on other hops. Figure 5 presents the distribution of latencies seen at each hop, showing that Starlink is faster than a major mobile operator, but slower than a broadband connection over WiFi. All three connections incur a large delay in traversing the Atlantic but Starlink su￿ers as it incurs signi￿cant additional delays in the hop which traverses the ‘bent pipe’ from the receiver to the satellite and thence to the Point of Presence (POP) back on earth. Bent pipe dominates latencies. We extend the above result and compute the share of the latency contributed by the bent pipe by

the experience remains qualitatively the same. This suggests that a possible limitation of further improving latency on Starlink. Takeaways: We ￿nd that performance of Starlink connectivity is a￿ected by a number of factors such as weather, AS peering

transit times that can be supported on Starlink. The browser extension also allows users to conduct Speedtests. These are only used occasionally but indicate a good performance as well. Table 3 presents City DL (Mbps) UL (Mbps) London 123.2 11.3 Seattle 90.3 6.6 Toronto 65.8 6.9 Warsaw 44.9 7.7 Table 3: Browser Speedtest showing median throughput of Starlink users in 4 cities. the throughput measured across locations of web browsers to the speedtest server located in Iowa. Although the server is located far from London, interestingly, the throughput is signi￿cantly better than the closer user locations (downlink 1.4x and 1.9x of Seattle and Toronto respectively; uplink almost twice that seen in both cities). This suggests signi￿cant geographic variability and performance di￿erentiation due to capacity allotted for users within a region. We complement this by running regular throughput tests using iperf3 on our volunteer measurement nodes, to measure achievable download speeds from a server hosted in the Google Cloud. Each node is matched with a server hosted in the closest Google Cloud location for that node. Figure 6(a) shows the CDF of the download throughput achieved. Interestingly, there is a clear and signi￿cant geographical di￿erence, with Barcelona achieving the highest (median 147 Mbps) and North Carolina achieving the lowest (median 34.3 Mbps). We hypothesise that this maybe related to the number of nearby users, as Starlink availability is relatively recent in Barcelona as compared to the USA.

before it can be claimed that US throughput is lower than other regions, but we may speculate that as more and more subscribers sign on in a geographic region, this may result in congestion at the POP level and lower throughput for all (Notice that Table. 2 is also consistent with this possibility.). This may potentially explain Starlink’s strategy of carefully controlling the number of subscribers in a region , with estimates on geographic density of subscribers it can support being as low as 6 users per square kilometre . Next, we look at throughput in one location, over time. Figure 6(b) plots the throughput achieved by TCP iperf3 measurements (one every half hour) in the UK (time shown is local time). We ￿nd that the downlink (Y1 axis) and uplink (Y2 axis) can change dramatically, with the maximum achieved throughput (usually around 00:0006:00 hours local time) being over twice the minimum throughput achieved during the day (typically between 18:00-24:00 hours local time). Furthermore, the maximum achieved throughput during the day can reach close to 300Mbps. Interestingly, the maximum throughput at the North Carolina station does not exceed 196Mbps. Figure 6(c) next looks at packet losses that occur during our iperf measurements. Surprisingly, we ￿nd several instances of moderate to extremely high packet loss rates, although a high throughput is achieved generally. Highly unusual for modern networks, we see loss rates of up to 50%, and 12% of iperf tests have loss rate of more than 5% (over 6% of samples have a loss rate of more than 10%). We explore this further, looking carefully at when the packet losses occur in our UK-based Starlink receiver. Fig 7 shows a time series of packet loss measured at one second intervals over one random 12 minute window. We can see that the packet losses are often clumped together. To investigate why, we also plot the distance between the receiver and all the Starlink satellites that are overhead. We use the updated Two-Line Element Set (TLE) ￿le of Starlink 155 IMC ’22, October 25–27, 2022, Nice, France Mohamed M. Kassem, Aravindh Raman, Diego Perino, and Nishanth Sastry 0 0.2 0.4 0.6 0.8 1 0 80 160 240 320 CDF Throughput in Mbps N. Carolina, US London, UK Barcelona, ES (a) 120 160 200 240 280 320 2022-04-11 00:00 2022-04-12 00:00 2022-04-13 00:00 4 6 8 10 12 14 DL Thr (Mbps) UL Thr (Mbps) Time DL Thr UL Thr (b) 0 0.2 0.4 0.6 0.8 1 0 10 20 30 40 50 Losses >= 5%, CCDF=0.12 Losses >= 10% CCDF=0.06 CCDF Packet Loss (%) (c) Figure 6: (a) Starlink TCP Throughput performance across 3 locations. (b) Downlink and Uplink throughput performance over time. (c) Packet loss observed on London Starlink receiver. 0 200 400 600 800 Time (s) 0 2 4 6 8 10 12 Distance (m) 105 0 2 4 6 8 10 Packet Loss (%) STARLINK-2356 STARLINK-1636 STARLINK-2365 STARLINK-2370 Packet Loss Figure 7: Severe UDP packet losses can be due to the fact that the current serving satellite goes out of LoS to track satellites availability overhead of our UK-based Starlink reciever. The TLE ￿le comprises a list of orbital elements of an Earth-orbiting object  and in our case we ￿lter for Starlink satellites. According to SpaceX ￿ling with FCC , Starlink shell-1 operates with minimum elevation angle of 25 degrees which allows a maximum feasible Earth-Satellite link distance of 1089Km, and beyond this distance the satellite will not be visible to the receiver on Earth. The di￿erent colored curves in Fig.7 shows the distance between our UK-based Starlink receiver and 4 di￿erent satellites that are visible at di￿erent time intervals. We set the distance to zero when a satellite goes out of sight. Each clump of packet losses we see even during this small window is associated with a satellite going out of line of sight. This strongly suggests that the losses are associated with a handover of the receiver from one satellite to another. The above indicates that users need to be prepared for high levels of losses at times, suggesting that modern loss tolerant congestion control algorithms such as BBR might be an option for improving performance. To test this, we run a stress test with all ￿ve congestion control algorithms available on the RPi (Debian image): BBR, Cubic, Reno, Veno and Vegas. Figure 8 shows that BBR indeed achieves much higher throughput than the other algorithms. In each case,

as measured through UDP bursts. It is noticeable that the achieved throughput even with BBR is only about half the maximum possible on that link. To compare, we conduct a similar test with Wi-Fi on campus (a low- to no-loss regime), wherein BBR achieves over 90% of the achievable rate. This suggests that perhaps the loss rate on Starlink can be too high, even for congestion control protocols explicitly designed to handle packet losses. Takeaways: Unusually for a modern network, Starlink can experience bouts of extremely high packet loss. This requires further 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 BBR CUBIC RENO VENOVEGAS Normalized Throughput Wi-Fi on Campus Starlink Figure 8: Di￿erent TCP congestion control performance for both Starlink and traditional broadband study to understand the underlying causes. If frequent and regular handovers are the main factor, this may require research into new handover mechanisms. Alternatively, it may also be possible to develop new transport protocols that are specially adapted to LEO satellite connections and are able to deliver the full theoretical bandwidth capacity despite regular periods of high packet loss. 6

periodically transmitted satellite positions. In Proceedings of the 2019 International Technical Meeting of The Institute of Navigation. 306–318. Debopam Bhattacherjee, Simon Kassing, Melissa Licciardello, and Ankit Singla.

of the 19th ACM Workshop on Hot Topics in Networks (Virtual Event, USA) (HotNets ’20). Association for Computing Machinery, New York, NY, USA, 197–204. https: //doi.org/10.1145/3422604.3425937 Debopam Bhattacherjee and Ankit Singla. 2019. Network topology design at 27,000 km/hour. In Proceedings of the 15th International Conference on Emerging

Tom Butash, Peter Garland, and Barry Evans. 2021. Non-geostationary satellite orbit communications satellite constellations history. International Journal of Satellite Communications and Networking 39, 1 (2021), 1–5. https://doi.org/10. 1002/sat.1375 arXiv:https://onlinelibrary.wiley.com/doi/pdf/10.1002/sat.1375 Luca Caviglione, Nedo Celandroni, Matteo Collina, Haitham Cruickshank, Gorry Fairhurst, Erina Ferro, Alberto Gotta, Michele Luglio, Cesare Roseti, Ahmed Abdel Salam, et al. 2015. A deep analysis on future web technologies and protocols over broadband GEO satellite networks. International Journal of Satellite Communications and Networking 33, 5 (2015), 451–472. CeleStark. 2022. Satellite Tracking. https://www.celestrak.com/. Stanley CF Chan, KM Chan, Ke Liu, and Jack YB Lee. 2013. On queue length and link bu￿er size estimation in 3G/4G mobile data networks. IEEE Transactions on Mobile Computing 13, 6 (2013), 1298–1311. Stephen Clark. 2022. SpaceX passes 2,500 satellites launched for Starlink Internet Network. https://space￿ightnow.com/2022/05/13/spacex-passes-2500-satelliteslaunched-for-companys-starlink-network/ Starlink Community. 2021. Dishy grpc client tools. https://github.com/starlinkcommunity/starlink-cli. Kristin Cooke. 2022. When Will Starlink Internet Be Available? https://www. satelliteinternet.com/resources/starlink-beta-sign-up/ Damir. 2020. Capacity of Starlink Network. https://lilibots.blogspot.com/2020/ 11/capacity-of-starlink-network.html. Bradley Denby and Brandon Lucia. 2020. Orbital Edge Computing: Nanosatellite Constellations as a New Class of Computer System. Association for Computing Machinery, New York, NY, USA, 939–954. https://doi.org/10.1145/3373376.3378473 Jörg Deutschmann, Kai-Ste￿en Hielscher, and Reinhard German. 2019. Satellite internet performance measurements. In 2019 International Conference on Networked Systems (NetSys). IEEE, 1–4. John Farserotu and Ramjee Prasad. 2000. A survey of future broadband multimedia satellite systems, issues and trends. IEEE Communications Magazine 38, 6 (2000), 128–133. FCC. 2021. FCC grants SpaceX’s Satellite Broadband Modi￿cation Application. https://www.fcc.gov/document/fcc-grants-spacexs-satellite-broadbandmodi￿cation-application P. Fraise, B. Coulomb, B. Monteuuis, and J.-L. Soula. 2000. SkyBridge LEO satellites: optimized for broadband communications in the 21/sup st/ century. In 2000 IEEE Aerospace Conference. Proceedings (Cat. No.00TH8484), Vol. 1. 241–251 vol.1. https://doi.org/10.1109/AERO.2000.879395 Zhixiang Gao, Aijun Liu, and Xiaohu Liang. 2020. The Performance Analysis of Downlink NOMA in LEO Satellite Communication System. IEEE Access 8 (2020), 93723–93732. https://doi.org/10.1109/ACCESS.2020.2995261 Seyed Ehsan Ghoreishi, Dmytro Karamshuk, Vasilis Friderikos, Nishanth Sastry,

of dynamic channel reservation techniques for LEO mobile satellite systems. In IEEE VTS 53rd Vehicular Technology Conference, Spring 2001. Proceedings (Cat. No.01CH37202), Vol. 4. 2985–2989 vol.4. https://doi.org/10.1109/VETECS.2001. 944150 Shiyi Xia, Quanjiang Jiang, Cheng Zou, and Guotong Li. 2019. Beam coverage comparison of LEO satellite systems based on user diversi￿cation. IEEE access 7 (2019), 181656–181667. Chong-Hung Zee. 2013. Theory of geostationary satellites. Springer Science & Business Media. Wendong Zhou, Tao Hong, Xiaojin Ding, and Gengxin Zhang. 2021. LoRa Performance Analysis for LEO Satellite IoT Networks. In 2021 13th International Conference on Wireless Communications and Signal Processing (WCSP). IEEE, 1–5. ETHICAL CONSIDERATION The Facebook advertisement and the browser extension clearly discussed our data management policy. The browser extension collects metrics of the website the users are visiting. However, the users can choose not to share the data. Further, the collected information is stored against randomly generated user identi￿er. The work has obtained a Favourable Ethical Opinion (FEO) from the Ethics Committee and The Research Integrity and Governance O￿ce at The University of Surrey. No personal user information such as IP is captured. An excerpt on data management policy from the website is copied below: In each case, we will not be associating these acquired data with any particular individual’s identity. Each participant will be known only by a randomly generated user ID which is not linked to any o￿ine identi￿er. You will be able to request that your data be removed by clicking on “remove my data” button. Note that, at the end of month 6 (approx. May 2022) of the project, your Web Chrome Extension will be updated automatically, and the updated extension will stop collecting any more data from your browser. Any stored data will be deleted after the completion of the research project which is anticipated to be within 6 to 8 months. 158

2022. Two-line element set. https://celestrak.org/NORAD/documentation/tlefmt.php. 2022. University of Surrey Starlink Speedtest. https://chrome.google.com/webstore/detail/university-of-surreystar/mjgbdghdioho￿oinlicfkihcdkokpbg. Ian F. Akyildiz and Ahan Kak. 2019. The Internet of Space Things/CubeSats. IEEE Network 33, 5 (2019), 212–218. https://doi.org/10.1109/MNET.2019.1800445 Ian F. Akyildiz and Ahan Kak. 2019. The Internet of Space Things/CubeSats: A ubiquitous cyber-physical system for the connected world. Computer Networks 150 (2019), 134–149. https://doi.org/10.1016/j.comnet.2018.12.017 Akram Al-Hourani. 2021. Session Duration Between Handovers in Dense LEO Satellite Networks. IEEE Wireless Communications Letters 10, 12 (2021), 2810– 2814. Christian T Ardito, Joshua J Morales, Joe Khalife, Ali Abdallah, Zaher M Kassas,